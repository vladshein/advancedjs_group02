{"version":3,"file":"modals-listeners-VAaAGFKh.js","sources":["../../src/js/partials_js/header.js","../../src/js/utils/refs.js","../../src/js/utils/consts.js","../../src/js/services/exercises.js","../../src/js/services/filters.js","../../src/js/utils/utils.js","../../src/js/services/subscriptions.js","../../src/js/services/quotes.js","../../src/js/services/services.js","../../src/images/icons.svg","../../src/js/template/exercisesMarkup.js","../../src/js/partials_js/quote.js","../../src/js/partials_js/give-rating-modal.js","../../src/js/partials_js/exercise-modal.js","../../src/js/handlers/modals-handlers.js","../../src/js/handlers/favorites-handlers.js","../../src/js/listeners/favorites-listeners.js","../../src/js/partials_js/favorites.js","../../src/js/listeners/modals-listeners.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n    const mobileMenuButton = document.querySelector('.menu-btn');\n    const closeMobileMenuButton = document.querySelector('.close-btn-menu');\n    const mobileMenu = document.querySelector('.mobile-menu-backdrop');\n    const menuItems = document.querySelectorAll('.menu-item');\n    const navSelector = document.querySelector('.js-header-nav-list');\n    const logoElement = document.querySelector('.logo');\n    const navLinks = document.querySelectorAll('.nav-link');\n    const menuLinks = document.querySelectorAll('.menu-link');\n  \n    const toggleClasses = (element, active) => {\n      element.style.transition = 'all 300ms cubic-bezier(0.4, 0, 0.2, 1)';\n      element.classList.toggle('js-nav-link-active', active);\n      const navItem = element.closest('.nav-item');\n      if (navItem) {\n        navItem.style.transition = 'all 300ms cubic-bezier(0.4, 0, 0.2, 1)';\n        navItem.classList.toggle('js-nav-item-active', active);\n      }\n    };\n  \n    const updateActiveNav = () => {\n      const savedPath = localStorage.getItem('activePath');\n      const currentPath = window.location.pathname;\n      const isHomePage = currentPath === '/' || currentPath === '/index.html';\n      const activePath = currentPath === '/' ? './index.html' : `./${currentPath.split('/').pop()}`;\n  \n      navLinks.forEach(navLink => {\n        const href = navLink.getAttribute('href');\n        const isActive = (savedPath && href === savedPath) || \n                        (!savedPath && isHomePage && href === './index.html') || \n                        (!savedPath && !isHomePage && href === activePath);\n        toggleClasses(navLink, isActive);\n      });\n  \n      menuLinks.forEach(menuLink => {\n        const href = menuLink.getAttribute('href');\n        const isActive = (savedPath && href === savedPath) || \n                        (!savedPath && isHomePage && href === './index.html') || \n                        (!savedPath && !isHomePage && href === activePath);\n        menuLink.style.transition = 'color 300ms cubic-bezier(0.4, 0, 0.2, 1)';\n        menuLink.classList.toggle('active', isActive);\n      });\n    };\n  \n    if (mobileMenuButton && mobileMenu) {\n      mobileMenuButton.addEventListener('click', () => {\n        mobileMenu.style.transition = 'opacity 300ms ease, visibility 300ms ease';\n        mobileMenu.classList.add('is-open');\n        document.body.style.overflow = 'hidden';\n      });\n    }\n  \n    if (closeMobileMenuButton && mobileMenu) {\n      closeMobileMenuButton.addEventListener('click', () => {\n        mobileMenu.style.transition = 'opacity 300ms ease, visibility 300ms ease';\n        mobileMenu.classList.remove('is-open');\n        document.body.style.overflow = '';\n      });\n    }\n  \n    menuItems.forEach(item => {\n      const link = item.querySelector('.menu-link');\n      if (link) {\n        link.addEventListener('click', () => {\n          localStorage.setItem('activePath', link.getAttribute('href'));\n          if (mobileMenu) {\n            mobileMenu.style.transition = 'opacity 300ms ease, visibility 300ms ease';\n            mobileMenu.classList.remove('is-open');\n            document.body.style.overflow = '';\n          }\n          updateActiveNav();\n        });\n      }\n    });\n  \n    if (navSelector) {\n      navSelector.addEventListener('click', (event) => {\n        const navLink = event.target.closest('.nav-link');\n        if (navLink) {\n          localStorage.setItem('activePath', navLink.getAttribute('href'));\n          updateActiveNav();\n        }\n      });\n    }\n  \n    if (logoElement) {\n      logoElement.addEventListener('click', () => {\n        localStorage.setItem('activePath', './index.html');\n        updateActiveNav();\n      });\n    }\n  \n    updateActiveNav();\n  });","const refs = {\n  exerciseModal: document.querySelector('#exercise-modal'),\n  exerciseContainer: document.querySelector('.exercise-container'),\n  exercises: document.querySelector('.exercise-list'),\n  exercisePageWrapper: document.querySelector('.exercise-page-wrapper'),\n  searchForm: document.querySelector('.search-form'),\n  quoteWrap: document.querySelector('.quote-wrap'),\n  exercisesHeader: document.querySelector('.exercises-header'),\n  filterBtnsList: document.querySelector('.filter-btns-list'),\n  filterBtns: document.querySelectorAll('.js-filter-btn'),\n  cardContainer: document.querySelector('.card-container'),\n  categories: document.querySelector('#categories-container'),\n  categoriesWrap: document.querySelector('.category-page-wrapper'),\n  footerForm: document.querySelector('.footer-form'),\n  giveRatingModal: document.querySelector('#give-rating-modal'),\n  ratingBlock: document.querySelector('.rating-modal-rating-block'),\n  ratingDisplay: document.querySelector('.rating-modal-rating'),\n  scrollUp: document.querySelector('.scroll-to-top'),\n  footerYear: document.querySelector('.footer-year'),\n};\nexport { refs };\n","export const API_URL = \"https://your-energy.b.goit.study/api\"\nconst queryParams = {\n    limit: 8,\n    page: 1,\n    maxPage: 1,\n    keyword: '',\n    category_type: 'muscles',\n    category_name: 'waist',\n};\n\nconst category = {\n    Muscles: 'muscles',\n    Equipment: 'equipment',\n    Bodyparts: 'bodypart',\n}\n\nconst notFoundText = \"Oops! We couldn't find any exercises matching your search. Try another keyword and keep moving! üí™\";\n\nexport { queryParams, category, notFoundText };\n","import axios from 'axios';\nimport { API_URL } from '../utils/consts.js';\n\nclass ExerciseService {\n  async getExercises() {\n    const { data } = await axios.get(`${API_URL}/exercises`);\n    return data;\n  }\n\n  async getExerciseById(id) {\n    try {\n      const { data } = await axios.get(`${API_URL}/exercises/${id}`);\n      return data;\n    } catch (error) {\n      console.error('Error fetching exercise by ID:', error);\n      throw error;\n    }\n  }\n\n  async getExercisesWithParams({\n    category_type,\n    category_name,\n    limit = 8,\n    page = 1,\n    keyword = '',\n  }) {\n    const params = {\n      [category_type]: category_name,\n      limit,\n      page,\n    };\n    if (keyword) {\n      params.keyword = keyword;\n    }\n    const { data } = await axios.get(`${API_URL}/exercises`, { params });\n    return data;\n  }\n\n  async updateRating(id, rating) {\n    try {\n      const { data } = await axios.patch(\n        `${API_URL}/exercises/${id}/rating`,\n        rating\n      );\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  }\n}\n\nexport { ExerciseService };\n","import axios from 'axios';\nimport { API_URL } from '../utils/consts.js';\n\nclass FiltersService {\n  static filterQuery = '';\n\n  // –º–µ—Ç–æ–¥ —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –æ–±—Ä–∞–Ω–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –∫–Ω–æ–ø–∫—É\n    getFilterQuery() {\n        if (FiltersService.filterQuery === '') {\n          return 'Muscles';\n      } return FiltersService.filterQuery;\n  }\n  // –º–µ—Ç–æ–¥ —â–æ –∑–±–µ—Ä—ñ–≥–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –æ–±—Ä–∞–Ω–æ–≥–æ —Ñ—ñ–ª—å—Ç—Ä—É  –ø—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –∫–Ω–æ–ø–∫—É\n  setFilterQuery(value) {\n    FiltersService.filterQuery = value;\n  }\n  // –º–µ—Ç–æ–¥ —Ä–æ–±–∏—Ç—å –∑–∞–ø–∏—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–æ–≥–æ —Ñ—ñ–ª—å—Ç—Ä—É —ñ\n  // –ø–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è\n  async fetchFilteredData(filter, limit, page) {\n    const axiosOptions = {\n      filter,\n      limit,\n      page,\n    };\n    // const filteredData = await axios.get(`${API_URL}/filters`, axiosOptions\n    // );\n    const filteredData = await axios.get(`${API_URL}/filters`, {\n      params: axiosOptions,\n    });\n    return filteredData.data;\n  }\n}\n\nexport { FiltersService };\n","import iziToast from 'izitoast';\n\nfunction showErrorToast(message) {\n  return iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n    transitionIn: 'fadeInDown',\n    timeout: 3000,\n    close: true,\n  });\n}\n\nfunction showSuccessToast(message) {\n  return iziToast.success({\n    title: 'Success',\n    message: message,\n    position: 'topRight',\n    transitionIn: 'fadeInDown',\n    timeout: 3000,\n    close: true,\n  });\n}\n\nfunction formValidation(ratingSelected, email, comment) {\n  const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n  if (!ratingSelected) {\n    showErrorToast('Please select a rating before submitting.');\n    return false;\n  }\n  if (!email || !emailPattern.test(email)) {\n    showErrorToast('Please enter a valid email address.');\n    return false;\n  }\n  if (!comment) {\n    showErrorToast('Please enter a comment.');\n    return false;\n  }\n  return true;\n}\n\nfunction shortenText(text, maxLength) {\n  if (text.length > maxLength) {\n    return text.slice(0, maxLength-1) + '...';\n  }\n  return text;\n}\n\nfunction caloriesPerTime(burnedCalories, time) {\n  return `${burnedCalories} / ${time} min`; \n}\n\nexport { showErrorToast, showSuccessToast, formValidation, shortenText, caloriesPerTime };\n","import axios from 'axios';\nimport { API_URL } from '../utils/consts.js';\nimport { showErrorToast, showSuccessToast } from '../utils/utils.js';\n\nclass SubscriptionsService {\n  email = '';\n  getFormData() {\n    this.email = document.getElementById('email').value.trim();\n  }\n\n  verifyData() {\n    console.log(this.email);\n    const emailPattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n\n    if (!emailPattern.test(this.email)) {\n      console.log(this.email);\n      // add iziToast error\n      showErrorToast('Please enter a valid email address.');\n      return false;\n    }\n    document.getElementById('email').value = ''; // Clear the input\n    return true;\n  }\n  async postEmail() {\n    try {\n      const response = await axios.post(`${API_URL}/subscription`, {\n        email: this.email,\n      });\n    } catch (error) {\n      showErrorToast(error.response.data.message);\n      return;\n    }\n\n    showSuccessToast('Email address added to subscriptions.');\n  }\n}\n\nexport { SubscriptionsService };\n","import axios from 'axios';\nimport { API_URL } from '../utils/consts.js';\n\nclass QuotesService {\n  static QUOTE_LS_KEY = 'quote-and-date';\n  async getQuote() {\n    const { data } = await axios.get(`${API_URL}/quote`);\n    return data;\n  }\n\n  setQuoteDataToLS(quote, currentDate = Date.now()) {\n    const quoteAndDateForLS = { quote, currentDate };\n    localStorage.setItem(\n      QuotesService.QUOTE_LS_KEY,\n      JSON.stringify(quoteAndDateForLS)\n    );\n  }\n\n  getQuoteDataFromLS() {\n    const quoteAndDateFromLS = JSON.parse(\n      localStorage.getItem(QuotesService.QUOTE_LS_KEY)\n    );\n    return quoteAndDateFromLS;\n  }\n}\n\nexport { QuotesService };\n","import {ExerciseService} from \"./exercises.js\";\nimport {FiltersService} from \"./filters.js\";\nimport {SubscriptionsService} from \"./subscriptions.js\";\nimport { QuotesService } from \"./quotes.js\";\nimport { PaginationService } from \"./pagination.js\";\n\n\n\nconst exerciseService = new ExerciseService();\nconst filtersService = new FiltersService();\nconst subscriptionsService = new SubscriptionsService();\nconst quotesService = new QuotesService();\nconst paginationService = new PaginationService();\n\nexport {\n  exerciseService,\n  filtersService,\n  subscriptionsService,\n  quotesService,\n  paginationService,\n};","export default \"__VITE_ASSET__DM6NMRag__\"","import iconsPath from '../../images/icons.svg';\nimport { shortenText, caloriesPerTime } from '../utils/utils';\n\nfunction exerciseCreateMarkup(exercises, isFavorite = false) {\n  return exercises\n    .map(\n      exercise => `<li class=\"exercise-item\" data-id=\"${exercise._id}\">\n        <div class=\"exercise-header\">\n          <p class=\"exercise-header-badge\">WORKOUT</p>\n          <div class=\"exercise-header-rating\">\n            <p>${isFavorite ? '' : exercise.rating}</p>\n            <svg\n              class=\"${\n                isFavorite\n                  ? 'favorite-exercise-rating-icon trash-can'\n                  : 'exercise-rating-icon'\n              }\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <use href=\"${iconsPath}#${isFavorite ? 'trash' : 'star'}\"></use>\n            </svg>\n          </div>\n          <button class=\"exercise-header-button\" type=\"button\">\n            <p>Start</p>\n            <svg\n              class=\"exercise-btn-icon\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n            >\n              <use href=\"${iconsPath}#arrow-right\"></use>\n            </svg>\n          </button>\n        </div>\n        <div class=\"exercise-title\">\n          <div class=\"exercise-title-icon-tumb\" width=\"24\" height=\"24\">\n            <svg\n              class=\"exercise-title-icon\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <use href=\"${iconsPath}#running-man\"></use>\n            </svg>\n          </div>\n          <h3 class=\"exercise-title-text\">${\n            window.innerWidth < 1440\n              ? shortenText(exercise.name, 25)\n              : shortenText(exercise.name, 35)\n          }</h3>\n        </div>\n        <ul class=\"exercise-footer\">\n          <li>\n            <span class=\"exercise-footer-item-accent\">Burned calories:</span>\n            ${\n              window.innerWidth < 1440\n                ? shortenText(\n                    caloriesPerTime(exercise.burnedCalories, exercise.time),\n                    6\n                  )\n                : caloriesPerTime(exercise.burnedCalories, exercise.time)\n            }\n          </li>\n          <li>\n            <span class=\"exercise-footer-item-accent\">Body part:</span>\n            ${\n              window.innerWidth < 1440\n                ? shortenText(exercise.bodyPart, 4)\n                : shortenText(exercise.bodyPart, 9)\n            }\n          </li>\n          <li>\n            <span class=\"exercise-footer-item-accent\">Target:</span>\n            ${\n              window.innerWidth < 1440\n                ? shortenText(exercise.target, 3)\n                : shortenText(exercise.target, 9)\n            }\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n}\n\nexport { exerciseCreateMarkup };\n","import { refs } from '../utils/refs.js';\nimport { quotesService } from '../services/services.js';\nimport { showErrorToast } from '../utils/utils.js';\n\nfunction renderQuote({ author, quote }) {\n  return `<p class=\"quote-text\">\n        ${quote}\n      </p>\n      <p class=\"quote-subtitle\">${author}</p>`;\n}\n\nasync function handleRenderQuote() {\n  try {\n    const quoteAndDateFromLS = quotesService.getQuoteDataFromLS();\n    if (!quoteAndDateFromLS || Date.now() !== quoteAndDateFromLS.currentDate) {\n      const quoteData = await quotesService.getQuote();\n      quotesService.setQuoteDataToLS(quoteData);\n\n      refs.quoteWrap.insertAdjacentHTML('beforeend', renderQuote(quoteData));\n    } else {\n      refs.quoteWrap.insertAdjacentHTML(\n        'beforeend',\n        renderQuote(quoteAndDateFromLS.quote)\n      );\n    }\n  } catch (error) {\n    showErrorToast(error.message);\n  }\n}\n\nexport { handleRenderQuote };\n","import iconsPath from '../../images/icons.svg';\n\nfunction renderGiveRatingModal(id) {\n  return `<div class=\"container\">\n    <form data-id=${id} class=\"rating-modal-form\">\n      <button class=\"close-modal-btn\" type=\"button\">\n        <svg class=\"close-modal-icon\">\n          <use href=\"${iconsPath}#close\"></use>\n        </svg>\n      </button>\n      <h2 class=\"rating-modal-title\">Rating</h2>\n      <div class=\"rating-modal-rating-block\">\n        <p class=\"rating-modal-rating\">0.0</p>\n        <input type=\"radio\" id=\"star-1\" name=\"rating\" value=\"1\"/>\n        <label for=\"star-1\">\n          <svg class=\"rating-modal-rating-icon\">\n            <use href=\"${iconsPath}#star\"></use>\n          </svg>\n        </label>\n        <input type=\"radio\" id=\"star-2\" name=\"rating\" value=\"2\" />\n        <label for=\"star-2\">\n          <svg class=\"rating-modal-rating-icon\">\n            <use href=\"${iconsPath}#star\"></use>\n          </svg>\n        </label>\n        <input type=\"radio\" id=\"star-3\" name=\"rating\" value=\"3\" />\n        <label for=\"star-3\">\n          <svg class=\"rating-modal-rating-icon\">\n            <use href=\"${iconsPath}#star\"></use>\n          </svg>\n        </label>\n        <input type=\"radio\" id=\"star-4\" name=\"rating\" value=\"4\" />\n        <label for=\"star-4\">\n          <svg class=\"rating-modal-rating-icon\">\n            <use href=\"${iconsPath}#star\"></use>\n          </svg>\n        </label>\n        <input type=\"radio\" id=\"star-5\" name=\"rating\" value=\"5\" />\n        <label for=\"star-5\">\n          <svg class=\"rating-modal-rating-icon\">\n            <use href=\"${iconsPath}#star\"></use>\n          </svg>\n        </label>\n      </div>\n      <input\n        type=\"email\"\n        name=\"email\"\n        class=\"rating-modal-email\"\n        placeholder=\"Email\"\n      />\n      <textarea\n        name=\"comment\"\n        class=\"rating-modal-comment\"\n        rows=\"4\"\n        placeholder=\"Your comment\"\n      ></textarea>\n      <button class=\"btn primary-btn\" type=\"submit\">\n        Send\n    </form>\n  </div>`;\n}\n\nexport { renderGiveRatingModal };\n","import iconsPath from '../../images/icons.svg';\n\nfunction renderExerciseModal({\n  _id,\n  name,\n  target,\n  bodyPart,\n  popularity,\n  time,\n  burnedCalories,\n  rating,\n  description,\n  gifUrl,\n  equipment,\n}) {\n  const maxStars = 5;\n  const stars = Array.from({ length: maxStars }, (_, index) => {\n    const isRated = index < Math.floor(rating);\n    const ratedClass = isRated ? 'rated' : '';\n    return `<svg class=\"exercise-modal-rating-icon ${ratedClass}\">\n              <use href=\"${iconsPath}#star\"></use>\n            </svg>`;\n  }).join('');\n\n  const isInFavorites = localStorage.getItem('favorites')?.includes(_id);\n\n  return `<div data-id=${_id} class=\"exercise-modal-card\">\n            <button class=\"close-modal-btn\">\n              <svg class=\"close-modal-icon\">\n                <use href=\"${iconsPath}#close\"></use>\n              </svg>\n            </button>\n            <div class=\"exercise-gif-wrapper\">\n              <img\n                class=\"exercise-gif\"\n                src=${gifUrl}\n                alt=\"alt text from backend here\"\n              />\n            </div>\n            <div class=\"exercise-modal-overview\">\n              <div>\n                <h2 class=\"exercise-modal-title\">${name}</h2>\n                <div class=\"exercise-modal-rating-block\">\n                  <p class=\"exercise-modal-rating\">${rating}</p>\n                  ${stars}\n                </div>\n              </div>\n              <div class=\"exercise-modal-info-block\">\n                <div class=\"exercise-modal-info\">\n                  <p class=\"exercise-modal-info-title\">Target</p>\n                  <p class=\"exercise-modal-info-descr\">${target}</p>\n                </div>\n                <div class=\"exercise-modal-info\">\n                  <p class=\"exercise-modal-info-title\">Body Part</p>\n                  <p class=\"exercise-modal-info-descr\">${bodyPart}</p>\n                </div>\n                <div class=\"exercise-modal-info\">\n                  <p class=\"exercise-modal-info-title\">Equipment</p>\n                  <p class=\"exercise-modal-info-descr\">${equipment}</p>\n                </div>\n                <div class=\"exercise-modal-info\">\n                  <p class=\"exercise-modal-info-title\">Popular</p>\n                  <p class=\"exercise-modal-info-descr\">${popularity}</p>\n                </div>\n                <div class=\"exercise-modal-info\">\n                  <p class=\"exercise-modal-info-title\">Burned Calories</p>\n                  <p class=\"exercise-modal-info-descr\">${burnedCalories}/${time} min</p>\n                </div>\n              </div>\n              <div class=\"exercise-modal-descr\">${description}</div>\n              <div class=\"exercise-modal-buttons-block\">\n              ${\n                isInFavorites\n                  ? `<button id=\"remove-from-favorites\" class=\"btn btn-primary\">\n                      Remove favorite\n                      <svg class=\"exercise-modal-btn-icon\">\n                        <use href=\"${iconsPath}#trash\"></use>\n                      </svg>\n                    </button>`\n                  : `<button id=\"add-to-favorites\" class=\"btn btn-primary\">\n                      Add to favorites\n                      <svg class=\"exercise-modal-btn-icon\">\n                        <use href=\"${iconsPath}#heart\"></use>\n                      </svg>\n                    </button>`\n              }\n                <button id=\"give-rating\" class=\"btn btn-secondary\">Give a rating</button>\n              </div>\n            </div>\n          </div>\n          `;\n}\n\nexport { renderExerciseModal };\n","import { renderExerciseModal } from '../partials_js/exercise-modal.js';\nimport { refs } from '../utils/refs.js';\nimport { showErrorToast, showSuccessToast } from '../utils/utils.js';\nimport { exerciseService } from '../services/services.js';\nimport iconsPath from '../../images/icons.svg';\n\nasync function handleOpenExerciseModal(id) {\n  try {\n    refs.exerciseModal.classList.add('is-open');\n    refs.exerciseModal.innerHTML = `<div class=\"loader\"></div>`;\n    const exercise = await exerciseService.getExerciseById(id);\n\n    const modal = renderExerciseModal(exercise);\n    refs.exerciseModal.innerHTML = modal;\n  } catch (error) {\n    showErrorToast(error.message);\n  }\n}\n\nfunction updateButtonsBlock(id) {\n  const isInFavorites = localStorage.getItem('favorites')?.includes(id);\n\n  const favBtn = isInFavorites\n    ? `<button id=\"remove-from-favorites\" class=\"btn btn-primary\">\n         Remove favorite\n         <svg class=\"exercise-modal-btn-icon\">\n           <use href=\"${iconsPath}#trash\"></use>\n         </svg>\n       </button>`\n    : `<button id=\"add-to-favorites\" class=\"btn btn-primary\">\n         Add to favorites\n         <svg class=\"exercise-modal-btn-icon\">\n           <use href=\"${iconsPath}#heart\"></use>\n         </svg>\n       </button>`;\n\n  const buttonContainer = document.querySelector(\n    '.exercise-modal-buttons-block'\n  );\n  if (buttonContainer) {\n    buttonContainer.innerHTML = `\n      ${favBtn}\n      <button id=\"give-rating\" class=\"btn btn-secondary\">Give a rating</button>\n    `;\n  }\n}\n\nfunction handleToggleFavorite(id, onFavoritesUpdated) {\n  try {\n    const favorites = localStorage.getItem('favorites');\n\n    if (!favorites) {\n      localStorage.setItem('favorites', JSON.stringify([id]));\n      showSuccessToast('Exercise added to favorites!');\n    } else {\n      const favoritesArray = JSON.parse(favorites);\n      if (!favoritesArray.includes(id)) {\n        localStorage.setItem(\n          'favorites',\n          JSON.stringify([...favoritesArray, id])\n        );\n        showSuccessToast('Exercise added to favorites!');\n      } else {\n        const updatedFavorites = favoritesArray.filter(favId => favId !== id);\n        localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n        showSuccessToast('Exercise removed from favorites!');\n      }\n    }\n\n    updateButtonsBlock(id);\n    onFavoritesUpdated();\n  } catch (error) {\n    showErrorToast(error.message);\n  }\n}\n\nexport { handleOpenExerciseModal, handleToggleFavorite };\n","async function handleDeleteFromFavorites(id) {\n  const favorites = localStorage.getItem('favorites');\n  const favoritesArray = JSON.parse(favorites);\n  const updatedFavorites = favoritesArray.filter(favId => favId !== id);\n  localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n}\n\nexport { handleDeleteFromFavorites };\n","import { renderFavoritesPage } from '../partials_js/favorites.js';\nimport { handleDeleteFromFavorites } from '../handlers/favorites-handlers.js';\n\nconst setupDeleteFavoriteCardListener = () => {\n  const deleteFavoriteCardButtons = document.querySelectorAll('.trash-can');\n  console.log(deleteFavoriteCardButtons);\n\n  deleteFavoriteCardButtons.forEach(button => {\n    button.addEventListener('click', async event => {\n      event.preventDefault();\n      const id = event.target.closest('.exercise-item').dataset.id;\n\n      await handleDeleteFromFavorites(id);\n      renderFavoritesPage();\n    });\n  });\n};\n\nexport { setupDeleteFavoriteCardListener };\n","import { handleRenderQuote } from './quote.js';\nimport { exerciseService } from '../services/services.js';\nimport { exerciseCreateMarkup } from '../template/exercisesMarkup.js';\nimport {\n  setupModalsListeners,\n  setupOpenExerciseModalLister,\n  setupGiveRatingListener,\n} from '../listeners/modals-listeners.js';\nimport { setupDeleteFavoriteCardListener } from '../listeners/favorites-listeners.js';\n\nif (!window.quoteRendered) {\n  handleRenderQuote();\n  window.quoteRendered = true;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Initiate only on favorites page\n  if (window.location.pathname.includes('favorite.html')) {\n    renderFavoritesPage();\n    setupModalsListeners();\n    setupOpenExerciseModalLister();\n    setupGiveRatingListener();\n  }\n});\n\n// Close modals on ESC\ndocument.addEventListener('keydown', event => {\n  if (event.key === 'Escape') {\n    if (refs.exerciseModal.classList.contains('is-open')) {\n      refs.exerciseModal.classList.remove('is-open');\n    }\n\n    if (refs.giveRatingModal.classList.contains('is-open')) {\n      refs.giveRatingModal.classList.remove('is-open');\n      refs.exerciseModal.classList.add('is-open');\n    }\n  }\n});\n\nconst exerciseList = document.querySelector('.favorite-exercise-list');\nconst exerciseContainer = document.querySelector('.favorite-exercise-list');\nconst notFoundContainer = document.querySelector(\n  '.favorite_not_found_containers'\n);\nconst paginationWrapper = document.querySelector('.exercise-page-wrapper');\n\nfunction renderFavoritesPage() {\n  // –û—Ç—Ä–∏–º—É—î–º–æ ID –≤–ø—Ä–∞–≤ –∑ localStorage\n  const favoriteExerciseIds =\n    JSON.parse(localStorage.getItem('favorites')) || [];\n\n  if (favoriteExerciseIds.length > 0) {\n    loadAndDisplayExercises();\n  } else {\n    showNoExercisesMessage();\n  }\n\n  function loadAndDisplayExercises() {\n    // –•–æ–≤–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–ø—Ä–∞–≤\n    notFoundContainer.style.display = 'none';\n\n    exerciseContainer.style.display = 'flex';\n\n    // –ü–æ–∫–∞–∑—É—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è\n    exerciseList.innerHTML =\n      '<li class=\"loading-msg\">Loading your favorite exercises...</li>';\n\n    // –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ –≤–ø—Ä–∞–≤–∏\n    const exercisesPromises = favoriteExerciseIds.map(id => {\n      return exerciseService.getExerciseById(id).catch(error => {\n        console.error('Error loading exercise ' + id + ':', error);\n        return null;\n      });\n    });\n\n    Promise.all(exercisesPromises)\n      .then(exercises => {\n        const validExercises = exercises.filter(ex => {\n          return ex !== null;\n        });\n\n        if (validExercises.length > 0) {\n          displayExercises(validExercises);\n          setupDeleteFavoriteCardListener();\n        } else {\n          showNoExercisesMessage();\n        }\n      })\n      .catch(error => {\n        console.error('Error loading favorites:', error);\n        showLoadError();\n      });\n  }\n}\n\nfunction displayExercises(exercises) {\n  // –•–æ–≤–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–ø—Ä–∞–≤\n  notFoundContainer.style.display = 'none';\n\n  // –í—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ —Å–ø–∏—Å–æ–∫ –≤–ø—Ä–∞–≤\n  exerciseList.innerHTML = exerciseCreateMarkup(exercises, true);\n\n  // –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ\n  paginationWrapper.innerHTML = ''; // –û—á–∏—â–∞—î–º–æ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é\n}\n\nfunction showNoExercisesMessage() {\n  // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–ø—Ä–∞–≤\n  notFoundContainer.style.display = 'block';\n\n  // –û—á–∏—â–∞—î–º–æ —Å–ø–∏—Å–æ–∫ –≤–ø—Ä–∞–≤ —ñ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é\n  exerciseList.innerHTML = '';\n  paginationWrapper.innerHTML = '';\n}\n\nfunction showLoadError() {\n  // –•–æ–≤–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–ø—Ä–∞–≤\n  notFoundContainer.style.display = 'none';\n\n  // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É\n  exerciseList.innerHTML =\n    '<li class=\"error-msg\">Failed to load favorites. Please try again.</li>';\n  paginationWrapper.innerHTML = '';\n}\n\nexport { renderFavoritesPage };\n","import { refs } from '../utils/refs.js';\nimport { renderGiveRatingModal } from '../partials_js/give-rating-modal.js';\nimport {\n  formValidation,\n  showSuccessToast,\n  showErrorToast,\n} from '../utils/utils.js';\nimport { exerciseService } from '../services/services.js';\nimport {\n  handleToggleFavorite,\n  handleOpenExerciseModal,\n} from '../handlers/modals-handlers.js';\nimport { renderFavoritesPage } from '../partials_js/favorites.js';\n\nfunction setupModalsListeners() {\n  document.addEventListener('click', event => {\n    if (refs.exerciseModal.classList.contains('is-open')) {\n      // Close modal\n      if (\n        event.target === refs.exerciseModal ||\n        event.target.closest('.close-modal-btn')\n      ) {\n        refs.exerciseModal.classList.remove('is-open');\n      }\n\n      // Toggle favorites\n      if (\n        event.target.closest('#add-to-favorites') ||\n        event.target.closest('#remove-from-favorites')\n      ) {\n        const id = event.target.closest('.exercise-modal-card').dataset.id;\n\n        handleToggleFavorite(id, () => {\n          // Update favorites page if it's open\n          if (window.location.pathname.includes('favorite.html')) {\n            renderFavoritesPage();\n          } else {\n            return;\n          }\n        });\n      }\n\n      // Open Give rating modal\n      if (event.target.closest('#give-rating')) {\n        refs.exerciseModal.classList.remove('is-open');\n        refs.giveRatingModal.classList.add('is-open');\n\n        const id = event.target.closest('.exercise-modal-card').dataset.id;\n\n        const giveRatingModal = renderGiveRatingModal(id);\n        refs.giveRatingModal.innerHTML = giveRatingModal;\n\n        refs.ratingBlock = document.querySelector('.rating-modal-rating-block');\n        refs.ratingDisplay = document.querySelector('.rating-modal-rating');\n        initializeRatingBlockListener();\n      }\n    }\n\n    if (refs.giveRatingModal.classList.contains('is-open')) {\n      // Close modal\n      if (\n        event.target === refs.giveRatingModal ||\n        event.target.closest('.close-modal-btn')\n      ) {\n        refs.giveRatingModal.classList.remove('is-open');\n        refs.exerciseModal.classList.add('is-open');\n      }\n    }\n  });\n}\n\nfunction initializeRatingBlockListener() {\n  refs.ratingBlock.addEventListener('change', event => {\n    if (event.target.name === 'rating') {\n      const ratingValue = parseInt(event.target.value, 10);\n\n      refs.ratingDisplay.textContent = ratingValue.toFixed(1);\n\n      const stars = refs.ratingBlock.querySelectorAll(\n        '.rating-modal-rating-icon'\n      );\n      stars.forEach((star, index) => {\n        if (index < ratingValue) {\n          star.style.fill = 'rgba(var(--cl-orange))';\n        } else {\n          star.style.fill = 'rgba(var(--cl-lighthouse), 0.2)';\n        }\n      });\n    }\n  });\n}\n\nfunction setupOpenExerciseModalLister() {\n  document.addEventListener('click', event => {\n    if (event.target.closest('.exercise-header-button')) {\n      const id = event.target.closest('.exercise-item').dataset.id;\n\n      handleOpenExerciseModal(id);\n    }\n  });\n}\n\nfunction setupGiveRatingListener() {\n  document.addEventListener('submit', async event => {\n    event.preventDefault();\n\n    const form = event.target;\n\n    if (form.classList.contains('rating-modal-form')) {\n      const formData = new FormData(form);\n\n      const ratingSelected = form.querySelector('input[name=\"rating\"]:checked');\n      const email = formData.get('email');\n      const comment = formData.get('comment');\n\n      const isValid = formValidation(ratingSelected, email, comment);\n\n      if (!isValid) {\n        return;\n      }\n\n      const data = {\n        rate: Number(ratingSelected.value),\n        email: email,\n        review: comment,\n      };\n      const id = form.dataset.id;\n\n      try {\n        await exerciseService.updateRating(id, data);\n        refs.giveRatingModal.classList.remove('is-open');\n        showSuccessToast('Rating submitted successfully!');\n      } catch (error) {\n        const errorMessage =\n          error.response?.data?.message || 'An unknown error occurred';\n        showErrorToast(errorMessage);\n      }\n    }\n  });\n}\n\nexport {\n  setupModalsListeners,\n  setupOpenExerciseModalLister,\n  setupGiveRatingListener,\n};\n"],"names":["mobileMenuButton","closeMobileMenuButton","mobileMenu","menuItems","navSelector","logoElement","navLinks","menuLinks","toggleClasses","element","active","navItem","updateActiveNav","savedPath","currentPath","isHomePage","activePath","navLink","href","menuLink","isActive","item","link","event","refs","API_URL","queryParams","category","notFoundText","ExerciseService","data","axios","id","error","category_type","category_name","limit","page","keyword","params","rating","_FiltersService","value","filter","axiosOptions","__publicField","FiltersService","showErrorToast","message","iziToast","showSuccessToast","formValidation","ratingSelected","email","comment","emailPattern","shortenText","text","maxLength","caloriesPerTime","burnedCalories","time","SubscriptionsService","response","_QuotesService","quote","currentDate","quoteAndDateForLS","QuotesService","exerciseService","filtersService","subscriptionsService","quotesService","iconsPath","exerciseCreateMarkup","exercises","isFavorite","exercise","renderQuote","author","handleRenderQuote","quoteAndDateFromLS","quoteData","renderGiveRatingModal","renderExerciseModal","_id","name","target","bodyPart","popularity","description","gifUrl","equipment","stars","_","index","isInFavorites","_a","handleOpenExerciseModal","modal","updateButtonsBlock","favBtn","buttonContainer","handleToggleFavorite","onFavoritesUpdated","favorites","favoritesArray","updatedFavorites","favId","handleDeleteFromFavorites","setupDeleteFavoriteCardListener","deleteFavoriteCardButtons","button","renderFavoritesPage","setupModalsListeners","setupOpenExerciseModalLister","setupGiveRatingListener","exerciseList","exerciseContainer","notFoundContainer","paginationWrapper","favoriteExerciseIds","loadAndDisplayExercises","showNoExercisesMessage","exercisesPromises","validExercises","ex","displayExercises","showLoadError","giveRatingModal","initializeRatingBlockListener","ratingValue","star","form","formData","errorMessage","_b"],"mappings":"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"}