{"version":3,"file":"index.js","sources":["../src/js/utils/refs.js","../src/js/utils/consts.js","../src/js/services/exercises.js","../src/js/services/services.js","../src/js/template/exercisesMarkup.js","../src/js/partials_js/form.js","../src/main.js"],"sourcesContent":["const refs = {\n  exercises: document.querySelector('.exercise-list'),\n  searchForm: document.querySelector('.search-form'),\n};\n\nexport { refs };\n","export const API_URL = \"https://your-energy.b.goit.study/api\"\n","import axios from 'axios';\nimport { API_URL } from '../utils/consts.js';\n\nclass ExerciseService {\n  async getExercises() {\n    const { data } = await axios.get(`${API_URL}/exercises`);\n    return data;\n  }\n\n  async getExerciseById(id) {\n    const { data } = await axios.get(`${API_URL}/exercises/${id}`);\n    return data;\n  }\n\n  async getExercisesWithParams({\n    category_type,\n    category_name,\n    limit,\n    page,\n    keyword,\n  }) {\n    const axiosOptions = {\n      params: {\n        [category_type]: category_name,\n        limit,\n        page,\n        keyword,\n      },\n    };\n    const { data } = await axios.get(`${API_URL}/exercises/`, axiosOptions);\n    return data;\n  }\n}\n\nexport { ExerciseService };\n","import {ExerciseService} from \"./exercises.js\";\nimport {FiltersService} from \"./filters.js\";\nimport {SubscriptionsService} from \"./subscriptions.js\";\nimport {QuotesService} from \"./quotes.js\";\n\n\nconst exerciseService = new ExerciseService();\nconst filtersService = new FiltersService();\nconst subscriptionsService = new SubscriptionsService();\nconst quotesService = new QuotesService();\n\nexport {exerciseService, filtersService, subscriptionsService, quotesService};","function exerciseCreateMarkup(exercises) {\n  return exercises\n    .map(\n      exercise => `<li class=\"exercise-item\" data-id=\"${exercise.id}\">\n        <div class=\"exercise-header\">\n          <p class=\"exercise-header-badge\">WORKOUT</p>\n          <div class=\"exercise-header-rating\">\n            <p>${exercise.rating}</p>\n            <svg\n              class=\"exercise-rating-icon\"\n              width=\"18\"\n              height=\"18\"\n              viewBox=\"0 0 18 18\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <use href=\"./images/icons.svg#star\"></use>\n            </svg>\n          </div>\n          <button class=\"exercise-header-button\" type=\"button\">\n            <p>Start</p>\n            <svg\n              class=\"exercise-btn-icon\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n            >\n              <use href=\"./images/icons.svg#arrow-right\"></use>\n            </svg>\n          </button>\n        </div>\n        <div class=\"exercise-title\">\n          <div class=\"exercise-title-icon-tumb\" width=\"24\" height=\"24\">\n            <svg\n              class=\"exercise-title-icon\"\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <use href=\"./images/icons.svg#running-man\"></use>\n            </svg>\n          </div>\n          <h3 class=\"exercise-title-text\">${exercise.name}</h3>\n        </div>\n        <ul class=\"exercise-footer\">\n          <li>\n            <span class=\"exercise-footer-item-accent\">Burned calories:</span>\n            ${exercise.burnedCalories}\n          </li>\n          <li>\n            <span class=\"exercise-footer-item-accent\">Body part:</span>\n            ${exercise.bodyPart}\n          </li>\n          <li>\n            <span class=\"exercise-footer-item-accent\">Target:</span>\n            ${exercise.target}\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n}\n\nexport { exerciseCreateMarkup };\n","import { refs } from '../utils/refs';\nimport { exerciseService } from '../services/services';\nimport { exerciseCreateMarkup } from '../template/exercisesMarkup';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nasync function handleSearch(event) {\n  event.preventDefault();\n  // скидання попередніх станів перед повторним запитом\n  // refs.notFoundText.innerHTML = '';\n  const queryParams = {\n    page: 1,\n    limit: 8,\n    maxPage: 1,\n    keyword: '',\n    category_type: 'bodypart',\n    category_name: 'waist',\n  };\n\n  const width = window.innerWidth;\n  if (width >= 768) {\n    queryParams.limit = 10;\n  }\n\n  console.log(queryParams);\n\n  const form = event.currentTarget;\n  const userQuery = form.elements.query.value.trim();\n  console.log(userQuery);\n  if (userQuery === '') {\n    refs.exercises.innerHTML = '';\n    iziToast.show({ message: 'Please entered your request' });\n    return;\n  }\n\n  // refs.loader.classList.add(ACTIVE_CLASS);\n  queryParams.keyword = userQuery;\n\n  try {\n    const exercises = await exerciseService.getExercisesWithParams(queryParams);\n\n    // refs.loader.classList.remove(ACTIVE_CLASS);\n\n    queryParams.maxPage = exercises.totalPages; // зберігаємо номер останньої сторінки в пагінації\n\n    if (exercises.results.length === 0) {\n      refs.exercises.innerHTML = '';\n      //   refs.notFoundText.innerHTML = 'Нема вправ за цим ключовим словом';\n    }\n    refs.exercises.innerHTML = exerciseCreateMarkup(exercises.results);\n\n    // якщо за перший запит ми отримали всі обʼєкти колекції - не показуємо пагінацію\n    if (queryParams.maxPage === 1) {\n      return;\n    }\n\n    // тут має бути пагінація\n  } catch (err) {\n    // refs.loader.classList.remove(ACTIVE_CLASS);\n    console.log(err);\n  } finally {\n    form.reset();\n  }\n}\n\nexport { handleSearch };\n","import { refs } from './js/utils/refs';\nimport { handleSearch } from './js/partials_js/form';\n\nconsole.log(refs);\nrefs.searchForm.addEventListener('submit', handleSearch);\n"],"names":["refs","API_URL","ExerciseService","data","axios","id","category_type","category_name","limit","page","keyword","axiosOptions","exerciseService","exerciseCreateMarkup","exercises","exercise","handleSearch","event","queryParams","form","userQuery","iziToast","err"],"mappings":"6vBAAA,MAAMA,EAAO,CACX,UAAW,SAAS,cAAc,gBAAgB,EAClD,WAAY,SAAS,cAAc,cAAc,CACnD,ECHaC,EAAU,uCCGvB,MAAMC,CAAgB,CACpB,MAAM,cAAe,CACnB,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMC,EAAM,IAAI,GAAGH,CAAO,YAAY,EACvD,OAAOE,CACR,CAED,MAAM,gBAAgBE,EAAI,CACxB,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMC,EAAM,IAAI,GAAGH,CAAO,cAAcI,CAAE,EAAE,EAC7D,OAAOF,CACR,CAED,MAAM,uBAAuB,CAC3B,cAAAG,EACA,cAAAC,EACA,MAAAC,EACA,KAAAC,EACA,QAAAC,CACJ,EAAK,CACD,MAAMC,EAAe,CACnB,OAAQ,CACN,CAACL,CAAa,EAAGC,EACjB,MAAAC,EACA,KAAAC,EACA,QAAAC,CACD,CACP,EACU,CAAE,KAAAP,GAAS,MAAMC,EAAM,IAAI,GAAGH,CAAO,cAAeU,CAAY,EACtE,OAAOR,CACR,CACH,CC1BA,MAAMS,EAAkB,IAAIV,ECN5B,SAASW,EAAqBC,EAAW,CACvC,OAAOA,EACJ,IACCC,GAAY,sCAAsCA,EAAS,EAAE;AAAA;AAAA;AAAA;AAAA,iBAIlDA,EAAS,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAmCYA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,cAK3CA,EAAS,cAAc;AAAA;AAAA;AAAA;AAAA,cAIvBA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,cAIjBA,EAAS,MAAM;AAAA;AAAA;AAAA,YAIxB,EACA,KAAK,EAAE,CACZ,CCvDA,eAAeC,EAAaC,EAAO,CACjCA,EAAM,eAAc,EAGpB,MAAMC,EAAc,CAClB,KAAM,EACN,MAAO,EACP,QAAS,EACT,QAAS,GACT,cAAe,WACf,cAAe,OACnB,EAEgB,OAAO,YACR,MACXA,EAAY,MAAQ,IAGtB,QAAQ,IAAIA,CAAW,EAEvB,MAAMC,EAAOF,EAAM,cACbG,EAAYD,EAAK,SAAS,MAAM,MAAM,OAE5C,GADA,QAAQ,IAAIC,CAAS,EACjBA,IAAc,GAAI,CACpBpB,EAAK,UAAU,UAAY,GAC3BqB,EAAS,KAAK,CAAE,QAAS,6BAA+B,CAAA,EACxD,MACD,CAGDH,EAAY,QAAUE,EAEtB,GAAI,CACF,MAAMN,EAAY,MAAMF,EAAgB,uBAAuBM,CAAW,EAa1E,GATAA,EAAY,QAAUJ,EAAU,WAE5BA,EAAU,QAAQ,SAAW,IAC/Bd,EAAK,UAAU,UAAY,IAG7BA,EAAK,UAAU,UAAYa,EAAqBC,EAAU,OAAO,EAG7DI,EAAY,UAAY,EAC1B,MAIH,OAAQI,EAAK,CAEZ,QAAQ,IAAIA,CAAG,CACnB,QAAY,CACRH,EAAK,MAAK,CACX,CACH,CC5DA,QAAQ,IAAInB,CAAI,EAChBA,EAAK,WAAW,iBAAiB,SAAUgB,CAAY"}